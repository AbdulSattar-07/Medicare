<!-- Input Progress Indicator Partial -->
<!-- Shows real-time progress as user fills the form -->

<div class="input-progress-container mb-4" id="inputProgressContainer">
    <div class="progress-header d-flex justify-content-between align-items-center mb-2">
        <span class="progress-label">
            <i class="fas fa-tasks me-2"></i>Form Completion
        </span>
        <span class="progress-percentage" id="progressPercentage">0%</span>
    </div>

    <div class="progress" style="height: 10px; border-radius: 5px;">
        <div class="progress-bar" id="formProgressBar" role="progressbar"
            style="width: 0%; transition: width 0.3s ease;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        </div>
    </div>

    <div class="progress-tiers mt-2 d-flex justify-content-between">
        <div class="tier-marker" data-tier="screening">
            <div class="tier-dot screening"></div>
            <small>Screening</small>
        </div>
        <div class="tier-marker" data-tier="standard">
            <div class="tier-dot standard"></div>
            <small>Standard</small>
        </div>
        <div class="tier-marker" data-tier="confirmation">
            <div class="tier-dot confirmation"></div>
            <small>Full Analysis</small>
        </div>
    </div>

    <div class="current-tier-info mt-2 text-center" id="currentTierInfo">
        <small class="text-muted">
            <i class="fas fa-layer-group me-1"></i>
            Current: <span id="currentTierLabel" class="fw-bold">Not Started</span>
        </small>
    </div>
</div>

<style>
    .input-progress-container {
        background: var(--theme-bg-card, white);
        border-radius: 10px;
        padding: 1rem;
        box-shadow: var(--theme-shadow-sm, 0 2px 10px rgba(0, 0, 0, 0.05));
        border: 1px solid var(--theme-border-light, #e9ecef);
    }

    .progress-label {
        font-weight: 500;
        color: var(--theme-text-primary, #495057);
    }

    .progress-percentage {
        font-weight: 600;
        color: #667eea;
    }

    .progress {
        background-color: var(--theme-bg-tertiary, #e9ecef);
    }

    .progress-bar {
        background: linear-gradient(90deg, #ffc107, #28a745, #17a2b8);
        border-radius: 5px;
    }

    .progress-tiers {
        position: relative;
    }

    .tier-marker {
        text-align: center;
        opacity: 0.5;
        transition: opacity 0.3s ease;
    }

    .tier-marker.active {
        opacity: 1;
    }

    .tier-marker.completed {
        opacity: 1;
    }

    .tier-marker.completed .tier-dot {
        transform: scale(1.2);
    }

    .tier-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin: 0 auto 0.25rem;
        transition: all 0.3s ease;
    }

    .tier-dot.screening {
        background: #ffc107;
    }

    .tier-dot.standard {
        background: #17a2b8;
    }

    .tier-dot.confirmation {
        background: #28a745;
    }

    .tier-marker small {
        font-size: 0.7rem;
        color: var(--theme-text-muted, #6c757d);
    }

    .tier-marker.active small {
        color: var(--theme-text-primary, #495057);
        font-weight: 600;
    }

    /* Dark Theme Support */
    [data-theme="dark"] .input-progress-container {
        background: var(--theme-bg-card, #161b22);
        border-color: var(--theme-border-color, #30363d);
    }

    [data-theme="dark"] .progress-label {
        color: var(--theme-text-primary, #e6edf3);
    }

    [data-theme="dark"] .progress-percentage {
        color: #58a6ff;
    }

    [data-theme="dark"] .progress {
        background-color: #21262d;
    }

    [data-theme="dark"] .tier-marker small {
        color: #8b949e;
    }

    [data-theme="dark"] .tier-marker.active small {
        color: #e6edf3;
    }

    [data-theme="dark"] #currentTierLabel {
        color: #58a6ff;
    }
</style>